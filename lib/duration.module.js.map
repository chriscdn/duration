{"version":3,"file":"duration.module.js","sources":["../src/index.ts"],"sourcesContent":["type DurationInit = {\n  weeks?: number;\n  days?: number;\n  hours?: number;\n  minutes?: number;\n  seconds?: number;\n  milliseconds?: number;\n  microseconds?: number;\n};\n\nconst MicrosecondsPerMillisecond = 1e3;\nconst MicrosecondsPerSecond = 1e6;\nconst MicrosecondsPerMinute = 6e7;\nconst MicrosecondsPerHour = 3.6e9;\nconst MicrosecondsPerDay = 8.64e10;\nconst MicrosecondsPerWeek = 6.048e11;\n\nexport class Duration {\n  private _microseconds = 0;\n\n  constructor(input: DurationInit) {\n    this._microseconds = (input.weeks ?? 0) * MicrosecondsPerWeek +\n      (input.days ?? 0) * MicrosecondsPerDay +\n      (input.hours ?? 0) * MicrosecondsPerHour +\n      (input.minutes ?? 0) * MicrosecondsPerMinute +\n      (input.seconds ?? 0) * MicrosecondsPerSecond +\n      (input.milliseconds ?? 0) * MicrosecondsPerMillisecond +\n      (input.microseconds ?? 0);\n  }\n\n  static with(input: DurationInit) {\n    return new Duration(input);\n  }\n\n  static toWeeks(input: DurationInit) {\n    return Duration.with(input).weeks;\n  }\n\n  static toDays(input: DurationInit) {\n    return Duration.with(input).days;\n  }\n\n  static toHours(input: DurationInit) {\n    return Duration.with(input).hours;\n  }\n\n  static toMinutes(input: DurationInit) {\n    return Duration.with(input).minutes;\n  }\n\n  static toSeconds(input: DurationInit) {\n    return Duration.with(input).seconds;\n  }\n\n  static toMilliseconds(input: DurationInit) {\n    return Duration.with(input).milliseconds;\n  }\n\n  static toMicroseconds(input: DurationInit) {\n    return Duration.with(input).microseconds;\n  }\n\n  static difference(d1: Date, d2: Date): Duration {\n    return Duration.with({ milliseconds: d2.getTime() - d1.getTime() });\n  }\n\n  get weeks(): number {\n    return this._microseconds / MicrosecondsPerWeek;\n  }\n\n  get days(): number {\n    return this._microseconds / MicrosecondsPerDay;\n  }\n\n  get hours(): number {\n    return this._microseconds / MicrosecondsPerHour;\n  }\n\n  get minutes(): number {\n    return this._microseconds / MicrosecondsPerMinute;\n  }\n\n  get seconds(): number {\n    return this._microseconds / MicrosecondsPerSecond;\n  }\n\n  get milliseconds(): number {\n    return this._microseconds / MicrosecondsPerMillisecond;\n  }\n\n  get microseconds(): number {\n    return this._microseconds;\n  }\n\n  addTo(d: Date): Date {\n    return new Date(d.getTime() + this.milliseconds);\n  }\n\n  subtractFrom(d: Date): Date {\n    return new Date(d.getTime() - this.milliseconds);\n  }\n\n  fromNow(): Date {\n    return this.addTo(new Date());\n  }\n\n  ago(): Date {\n    return this.subtractFrom(new Date());\n  }\n\n  get abs(): Duration {\n    return new Duration({ microseconds: Math.abs(this.microseconds) });\n  }\n}\n"],"names":["MicrosecondsPerSecond","MicrosecondsPerMinute","MicrosecondsPerHour","MicrosecondsPerDay","MicrosecondsPerWeek","Duration","input","_input$weeks","_input$days","_input$hours","_input$minutes","_input$seconds","_input$milliseconds","_input$microseconds","this","_microseconds","weeks","days","hours","minutes","seconds","milliseconds","microseconds","toWeeks","toDays","toHours","toMinutes","toSeconds","toMilliseconds","toMicroseconds","difference","d1","d2","getTime","_proto","prototype","_createClass","addTo","d","Date","subtractFrom","fromNow","ago","key","get","Math","abs"],"mappings":"+RAUA,IACMA,EAAwB,IACxBC,EAAwB,IACxBC,EAAsB,KACtBC,EAAqB,MACrBC,EAAsB,OAEfC,eAAQ,WAGnB,SAAAA,EAAYC,GAAmB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,KAFvBC,cAAgB,EAGtBD,KAAKC,eAA4B,OAAZR,EAACD,EAAMU,OAAKT,EAAI,GAAKH,GAC7BI,OAAXA,EAACF,EAAMW,MAAIT,EAAI,GAAKL,UACpBM,EAACH,EAAMY,OAAKT,EAAI,GAAKP,GACPQ,OAAdA,EAACJ,EAAMa,SAAOT,EAAI,GAAKT,GACT,OAAdU,EAACL,EAAMc,SAAOT,EAAI,GAAKX,EAfM,KAgBVY,OAAnBA,EAACN,EAAMe,cAAYT,EAAI,IACJC,OADmCA,EACrDP,EAAMgB,cAAYT,EAAI,EAC3B,CAACR,EAED,KAAA,SAAYC,GACV,WAAWD,EAASC,EACtB,EAACD,EAEMkB,QAAP,SAAejB,GACb,OAAOD,EAAa,KAACC,GAAOU,KAC9B,EAACX,EAEMmB,OAAP,SAAclB,GACZ,OAAOD,EAAQ,KAAMC,GAAOW,IAC9B,EAACZ,EAEMoB,QAAP,SAAenB,GACb,OAAOD,OAAcC,GAAOY,KAC9B,EAACb,EAEMqB,UAAP,SAAiBpB,GACf,OAAOD,EAAa,KAACC,GAAOa,OAC9B,EAACd,EAEMsB,UAAP,SAAiBrB,GACf,OAAOD,EAAa,KAACC,GAAOc,OAC9B,EAACf,EAEMuB,eAAP,SAAsBtB,GACpB,OAAOD,EAAQ,KAAMC,GAAOe,YAC9B,EAAChB,EAEMwB,eAAP,SAAsBvB,GACpB,OAAOD,EAAQ,KAAMC,GAAOgB,YAC9B,EAACjB,EAEMyB,WAAP,SAAkBC,EAAUC,GAC1B,OAAO3B,EAAa,KAAC,CAAEgB,aAAcW,EAAGC,UAAYF,EAAGE,WACzD,EAACC,QAAAA,EAAA7B,EAAA8B,UA4CAC,OA5CAF,EA8BDG,MAAA,SAAMC,GACJ,OAAO,IAAIC,KAAKD,EAAEL,UAAYnB,KAAKO,aACrC,EAACa,EAEDM,aAAA,SAAaF,GACX,WAAWC,KAAKD,EAAEL,UAAYnB,KAAKO,aACrC,EAACa,EAEDO,QAAA,WACE,OAAO3B,KAAKuB,MAAM,IAAIE,KACxB,EAACL,EAEDQ,IAAA,WACE,OAAW5B,KAAC0B,aAAa,IAAID,KAC/B,IAAClC,KAAA,CAAA,CAAAsC,IAAA,QAAAC,IA1CD,WACE,OAAW9B,KAACC,cAAgBX,CAC9B,GAAC,CAAAuC,IAAAC,OAAAA,IAED,WACE,OAAO9B,KAAKC,cAAgBZ,CAC9B,GAACwC,CAAAA,IAAAC,QAAAA,IAED,WACE,OAAW9B,KAACC,cAAgBb,CAC9B,GAACyC,CAAAA,cAAAC,IAED,WACE,OAAW9B,KAACC,cAAgBd,CAC9B,GAAC,CAAA0C,IAAA,UAAAC,IAED,WACE,YAAY7B,cAAgBf,CAC9B,GAAC2C,CAAAA,IAAAC,eAAAA,IAED,WACE,OAAO9B,KAAKC,cA7EmB,GA8EjC,GAAC4B,CAAAA,mBAAAC,IAED,WACE,OAAO9B,KAAKC,aACd,GAAC4B,CAAAA,UAAAC,IAkBD,WACE,OAAW,IAAAvC,EAAS,CAAEiB,aAAcuB,KAAKC,IAAIhC,KAAKQ,eACpD,iPAAC,CA/FkB"}